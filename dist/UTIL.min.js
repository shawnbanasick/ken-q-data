!function(t){function e(a){if(r[a])return r[a].exports;var n=r[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var r={};e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,r,a){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=9)}({9:function(t,e){function r(t,e){var r=e||0,a=Math.pow(10,r),n=+(r?t*a:t).toFixed(8),o=Math.floor(n),i=n-o,l=1e-8,c=i>.5-l&&i<.5+l?o%2==0?o:o+1:Math.round(n);return r?c/a:c}!function(t,e,a){"use strict";t.checkIfOnline=function(){return"file:"!==window.location.protocol},t.standardDeviation=function(e){var a=t.average(e),n=e.map(function(t){var e=t-a;return e*e}),o=n.reduce(function(t,e){return t+e},0),i=r(o/(n.length-1),8);return r(Math.sqrt(i),8)},t.variance=function(t){for(var e=0,a=0,n=0;n<t.length;n++)if(""===t[n]);else{if(isNaN(t[n]))return 0;e+=1,a+=parseFloat(t[n])}var o=0;if(e>1){var i=a/e;for(n=0;n<t.length;n++)""===t[n]||(o+=(t[n]-i)*(t[n]-i));return r(o/e,6)}return 0},t.average=function(t){return r(t.reduce(function(t,e){return t+e},0)/t.length,8)},t.drawDatatable=function(t){$(t.domElement).DataTable({fixedColumns:t.fixed,retrieve:!0,searching:!1,ordering:t.ordering,info:!1,destroy:!0,scrollY:800,scrollCollapse:!0,scrollX:!0,paging:!1,data:t.data,columns:t.headers,columnDefs:t.colDefs});var e=$(t.domElement).DataTable();$(t.domElement+" tbody").on("mouseenter","td",function(){var t=e.cell(this).index().column;$(e.cells().nodes()).removeClass("highlight"),$(e.column(t).nodes()).addClass("highlight")}).on("mouseleave",function(){$(e.cells().nodes()).removeClass("highlight"),$(e.columns().nodes()).removeClass("highlight")})},t.addFactorSelectCheckboxesRotation=function(t){var r=$("#checkboxFrame");r.length>0&&r.empty();for(var a=e.getState("language"),n=resources[a].translation.Factor,o=0;o<t;o++){var i=o+1,l=document.createElement("input");l.type="checkbox",l.name="radioCheck",l.value=i,l.className="checkbox",l.id="checkChart"+i;var c=document.createElement("label");c.htmlFor="checkChart"+i,c.className="checkboxLabel",c.appendChild(document.createTextNode(n+" "+i)),document.getElementById("checkboxFrame").appendChild(l),document.getElementById("checkboxFrame").appendChild(c)}},t.checkUniqueName=function(t){var e=_.cloneDeep(t),r=_.uniq(e);if(t.length!==r.length)for(var a=0;a<t.length;a++){var n=a+1,o=t[a],i=o.replace(/\./g,"");t[a]=n+"_"+i}else for(var l=0;l<t.length;l++)t[l]=t[l].replace(/\./g," ");return t},t.calculateSortTriangleShape=function(t){for(var r=[-6,-5,-4,-3,-2,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13],a=[],n=0;n<r.length;n++)for(var o=0;o<t[n];o++)a.push(r[n]);return e.setState("qavSortTriangleShape",a),a},t.sanitizeUserInputText=function(t){if(_.isNumber(t))return t;var r=t.replace(/<script[^>]*?>.*?<\/<\/script>/gi,"").replace(/<[\/\!]*?[^<>]*?>/gi,"").replace(/<style[^>]*?>.*?<\/style>/gi,"").replace(/<![\s\S]*?--[ \t\n\r]*>/gi,"");return e.setState("output",r),r},t.threeDigitPadding=function(t){return t<0?" "+t:t<10?"  "+t:t>99?t:" "+t},t.currentDate1=function(){var t=new Date,e=t.getDate();e<10&&(e="0"+e);var r=t.getMonth()+1;return r<10&&(r="0"+r),t.getFullYear()+"-"+r+"-"+e},t.currentTime1=function(){var t=new Date,e=t.getMinutes();e<10&&(e="0"+e);var r=t.getHours();return r<10&&(r="0"+r),String(r)+"-"+String(e)},t.checkIfValueIsNumber=function(t,e){isNaN(t)?$("#"+e).css("border","red solid 3px"):$("#"+e).css("border","lightgray solid 1px")},t.archiveFactorScoreStateMatrixAndDatatable=function(){var t=$("#factorRotationTable2").dataTable(),r=t.fnGetData(),a=e.getState("expVar"),n=e.getState("rotFacStateArray"),o=e.getState("columnHeadersArray"),i=[];i.push(n,r,o,a),e.setState("rotFacStateArrayArchive"+ROTA.saveRotationArchiveCounter("get"),i),ROTA.saveRotationArchiveCounter("increase")},t.exportToCsv=function(t,e){for(var r=function(t){for(var e="",r=0;r<t.length;r++){var n=t[r];null!==n&&n!==a||(n="");var o=n.toString(),i=o.replace(/"/g,'""');i.search(/("|,|\n)/g)>=0&&(i='"'+i+'"'),r>0&&(e+=","),e+=i}return e+"\n"},n="",o=0;o<e.length;o++)n+=r(e[o]);var i=new Blob([n],{type:"text/CSV;charset=UTF-8;"});if(navigator.msSaveBlob)navigator.msSaveBlob(i,t);else{var l=document.createElement("a");if(l.download!==a){var c=URL.createObjectURL(i);l.setAttribute("href",c),l.setAttribute("download",t),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)}}},t.drawScreePlot=function(t){var r,a,n,o,i,l,c,s,u;for(s=_.max(t),s<10&&s>5?s=10:s<5&&(s=5),u=t.length,u<5&&(u=5),a=[],r=0;r<t.length;r++)c={},c.eigen=t[r],c.factor=r+1,a.push(c);n=$(window).width()/1.25,o={top:150,right:10,bottom:40,left:100},i=n-o.left-o.right,i>700&&(i=700),l=i-o.bottom-80;var d=e.getState("language"),f=resources[d].translation["Scree Plot"],g=resources[d].translation["Factor Number"],h=resources[d].translation.Eigenvalues,p=d3.scale.linear().range([0,i]),m=d3.scale.linear().range([l,0]),v=d3.svg.axis().scale(p).tickSubdivide(!1).orient("bottom").ticks(8),x=d3.svg.axis().scale(m).tickSubdivide(!0).orient("left").ticks(s),y=d3.svg.line().x(function(t){return p(t.factor)}).y(function(t){return m(t.eigen)}),b=d3.select("#screePlotDiv").append("svg").attr("id","screePlotSVG").attr("width",i+o.left+o.right).attr("height",l+20+o.top+o.bottom).append("g").attr("transform","translate("+o.left+","+o.top+")");p.domain([0,8]),m.domain([0,d3.max(a,function(t){return t.eigen<10?s:t.eigen})]),b.append("text").attr("x",i/2).attr("y",l+45).style("text-anchor","middle").style("font-weight","bold").style("margin-top","10px").style("font-size","14px").style("font-family","Arial").text(g),b.append("text").attr("transform","rotate(-90)").attr("y",0-o.left/2).attr("x",0-l/2).attr("dy","1em").style("text-anchor","middle").style("font-weight","bold").style("font-size","14px").style("font-family","Arial").text(h),b.append("text").attr("x",i/2).attr("y",0-o.top/8).attr("text-anchor","middle").style("font-size","30px").style("font-family","Arial").text(f),b.append("path").attr("class","line").attr("d",y(a)),b.append("g").attr("class","x axis").attr("transform","translate(0,"+l+")").call(v),b.append("g").attr("class","y axis").call(x),b.selectAll(".tick > text").style("font-family","Arial"),b.selectAll(".dot2").data(a).enter().append("circle").attr("class","dot2").attr("cx",function(t){return p(t.factor)}).attr("cy",function(t){return m(t.eigen)}).attr("r",3.5)}}(window.UTIL=window.UTIL||{},QAV)}});